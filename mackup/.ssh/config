Host odin-tunnel
	HostName prasantk-5.desktop.amazon.com
	LocalForward 2009 127.0.0.1:2009
# 
# Prod Bastion SSH Config additions. See https://w.amazon.com/index.php/Infosec/Infrastructure_Services/Radium/PROD_Bastions
# for details and contact information.

# Do not try to proxy when going straight to a bastion host
host security-bastions-prod*
	ProxyCommand none

host *.corp.amazon.com *.corp.amazon.com. *corp*.amazon.com *corp*.amazon.com. *desktop*.amazon.com *desktop*.amazon.com.
          ProxyCommand none

# Configuration for db.amazon.com CNAMEs. We need to identify where the end host
# is via DNS in order to pick the right bastion
host *.db*.amazon.com *.db? *.db?? .db
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-`echo %h | xargs host | grep alias | awk '{print $6}' | awk -F. '{print $2}' | sed -E 's/[0-9]{1,}$//' | tail -n 1`.amazon.com

# Configuration for DUB/EU-WEST-1
host *.dub*.amazon.com *.dub*.amazon.com. *.dub? *.dub?? *.eu-west-1.amazon.com *.eu-west-1.amazon.com. *.eu-west-1
        GSSAPITrustDns no
        HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-dub.amazon.com

# Configuration for GRU
host !bastion* *.gru*.amazon.com *.gru*.amazon.com. *.gru? *.gru?? *.sa-east-*.amazon.com *.sa-east-*.amazon.com. *.sa-east-?
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-gru.amazon.com

# Configuration for IAD/VDC/US-EAST
host *.iad*.amazon.com *.iad*.amazon.com. *.iad? *.iad?? *.vdc.amazon.com *.vdc.amazon.com. *.vdc *.us-east-*.amazon.com *.us-east-*.amazon.com. *.us-east-?
        GSSAPITrustDns no
        HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-iad.amazon.com

# Configuration for LUX
host *.lux*.amazon.com *.lux*.amazon.com. *.lux? *.lux?? 
        GSSAPITrustDns no
        HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-lux.amazon.com

# Configuration for NRT
host *.nrt*.amazon.com *.nrt*.amazon.com. *.nrt? *.nrt?? *.ap-northeast-*.amazon.com *.ap-northeast-*.amazon.com. *.ap-northeast-?
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-nrt.amazon.com

# Configuration for PDX/US-WEST-2
host *.pdx*.amazon.com *.pdx*.amazon.com. *.pdx? *.pdx?? *.us-west-2.amazon.com *.us-west-2.amazon.com. *.us-west-2
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-pdx.amazon.com

# Configuration for PEK
host *.pek*.amazon.com *.pek*.amazon.com. *.pek? *.pek??  *.cn-north-*.amazon.com
        GSSAPITrustDns no
        HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-pek.amazon.com

# Configuration for SEA
host *.sea*.amazon.com *.sea*.amazon.com. *.sea? *.sea??
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-sea.amazon.com

# Configuration for SFO
host !bastion* *.sfo*.amazon.com *.sfo*.amazon.com. *.sfo? *.sfo??
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-sfo.amazon.com

# Configuration for SIN
host !bastion* *.sin*.amazon.com *.sin*.amazon.com. *.sin? *.sin?? *.ap-southeast-1.amazon.com *.ap-southeast-1.amazon.com. *.ap-southeast-1
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-sin.amazon.com

# Configuration for SYD
host !bastion* *.syd*.amazon.com *.syd*.amazon.com. *.syd? *.syd?? *.ap-southeast-2.amazon.com *.ap-southeast-2.amazon.com. *.ap-southeast-2
	GSSAPITrustDns no
	HostName %h
	ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p security-bastions-prod-syd.amazon.com

# Configuration for FRA/EU-CENTRAL-1
host !bastion* *.fra*.amazon.com *.fra*.amazon.com. *.fra? *.fra?? *.eu-central-1.amazon.com *.eu-central-1.amazon.com. *.eu-central-1
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W  %h:%p bastion-fra.amazon.com

# Configuration for BJS/CN-NORTH-1
host !bastion* *.bjs*.amazon.com *.bjs*.amazon.com. *.bjs? *.bjs?? *.cn-north-1.amazon.com *.cn-north-1.amazon.com. *.cn-north-1
	GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W  %h:%p bastion-bjs.amazon.com

# Configuration for ICN
host !bastion* *.icn*.amazon.com *.icn*.amazon.com. *.icn? *.icn??
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W  %h:%p bastion-icn.amazon.com

# Configuration for ZHY/CN-NORTHWEST-1
host !bastion* *.zhy*.amazon.com *.zhy*.amazon.com. *.zhy? *.zhy?? *.cn-northwest-1.amazon.com *.cn-northwest-1.amazon.com. *.cn-northwest-1
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W  %h:%p bastion-zhy.amazon.com

# Configuration for BOM
host !bastion* *.bom*.amazon.com *.bom*.amazon.com. *.bom? *.bom??
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p bastion-bom.amazon.com

# Configuration for CMH
host !bastion* *.cmh*.amazon.com *.cmh*.amazon.com. *.cmh? *.cmh??
        GSSAPITrustDns no
        HostName %h
        ProxyCommand ssh -o StrictHostKeyChecking=no -W %h:%p bastion-cmh.amazon.com 

# End Prod Bastion config
